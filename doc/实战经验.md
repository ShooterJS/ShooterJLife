一：数据库跟缓存的双写一致性：
文章链接：https://mp.weixin.qq.com/s/A-hPXpU1K_7gw7coTYApEA
3 总结
分析后你会发现数据更新时缓存是删除不是更新，而删除缓存一般有三种方法：
1：如果缓存数据不敏感，直接给缓存设置TTL即可。
2：先删缓存再更新数据库，此时需配合延时双删技术，但可能导致二次删除失败。
   2.3：目的：确保读请求结束，写请求可以删除读请求造成的缓存脏数据
3：先更新数据库再删缓存，此时需配合binlog消费 + 消息队列来实现。

二：配置连接池大小：
文章链接：https://juejin.cn/post/6844903840022544398#heading-8
结论：你需要的是一个小连接池，和一个等待连接的线程队列
连接数计算公式：连接数 = ((核心数 * 2) + 有效磁盘数) 如果说你的服务器 CPU 是 4核 i7 的，连接池大小应该为 ((4 * 2) + 1) = 9。
连接池中的连接数量大小应该设置成：数据库能够有效同时进行的查询任务数（通常情况下来说不会高于 2*CPU核心数）
假设说你有 10000 个并发访问：你仅仅需要一个大小为 10 数据库连接池，然后让剩下的业务线程都在队列里等待就可以了。






